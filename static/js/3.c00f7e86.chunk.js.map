{"version":3,"sources":["components/Common/Paginator/Paginator.module.css","components/Users/Users.module.css","components/Common/Paginator/Paginator.jsx","components/Users/User.jsx","components/Users/Users.jsx","Redux/UsersSelector.js","components/Users/UsersContainer.jsx"],"names":["module","exports","paginator","pageNumber","selectedPage","userPhoto","userProfile","userDescription","userFollow","Paginator","_ref","totalItemsCount","pageSize","currentPage","onPageChanged","_ref$portionSize","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","_useState","useState","_useState2","Object","slicedToArray","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","react_default","a","createElement","className","styles","es_button","type","onClick","icon","filter","p","map","cn","defineProperty","key","e","User","user","followingInProgress","unFollow","follow","s","userInfo","react_router_dom","to","id","alt","src","photos","small","followed","disabled","some","name","status","Users","totalUsersCount","users","props","objectWithoutProperties","Common_Paginator_Paginator","isAuth","u","Users_User","react_router","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getUCurrentPage","getIsFetching","isFetching","getFollowingInProgress","getAuth","auth","UsersContainer","_this","_this$props","this","Fragment","Preloader","components_Users_Users","React","Component","compose","connect","setCurrentPage","toggleFollowingProgress","requestUsers"],"mappings":"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","file":"static/js/3.c00f7e86.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__2qmpO\",\"pageNumber\":\"Paginator_pageNumber__3g36a\",\"selectedPage\":\"Paginator_selectedPage__2Lxgl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userPhoto\":\"Users_userPhoto__2irTm\",\"userProfile\":\"Users_userProfile__1O7A4\",\"userDescription\":\"Users_userDescription__c7WHO\",\"userFollow\":\"Users_userFollow__2dmCv\"};","import React, {useState} from 'react'\r\nimport cn from \"classnames\";\r\nimport {Button, Icon} from 'antd';\r\n\r\nimport styles from './Paginator.module.css'\r\n\r\nlet Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 10}) => {\r\n\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return <div className={styles.paginator}>\r\n\r\n        {portionNumber > 1 &&\r\n        <Button type=\"primary\" onClick={() => {\r\n            setPortionNumber(portionNumber - 1)\r\n        }}><Icon type=\"arrow-left\"/></Button>}\r\n\r\n        {pages\r\n            .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n            .map((p) => {\r\n                return <Button className={cn({\r\n                    [styles.selectedPage]: currentPage === p\r\n                }, styles.pageNumber)}\r\n                               key={p}\r\n                               onClick={(e) => {\r\n                                   onPageChanged(p);\r\n                               }}>{p}</Button>\r\n            })}\r\n        {portionCount > portionNumber &&\r\n        <Button type=\"primary\" onClick={() => {\r\n            setPortionNumber(portionNumber + 1)\r\n        }}><Icon type=\"arrow-right\"/></Button>}\r\n    </div>\r\n}\r\n\r\nexport default Paginator;\r\n","import React from 'react'\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {Button} from 'antd';\r\n\r\nimport s from './Users.module.css'\r\nimport userPhoto from '../../img/user.svg'\r\n\r\nlet User = ({user, followingInProgress, unFollow, follow}) => {\r\n\r\n    return (\r\n        <div className={s.userProfile}>\r\n\r\n            <div className={s.userInfo}>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img alt=\"userPhoto\" src={user.photos.small != null ? user.photos.small : userPhoto}\r\n                         className={s.userPhoto}/>\r\n                </NavLink>\r\n                <div className={s.userFollow}>\r\n                    {user.followed\r\n                        ? <Button disabled={followingInProgress\r\n                            .some(id => id === user.id)} onClick={() => {\r\n                            unFollow(user.id);\r\n                        }}>Unfollow</Button>\r\n                        : <Button disabled={followingInProgress\r\n                            .some(id => id === user.id)} onClick={() => {\r\n                            follow(user.id)\r\n                        }}>Follow</Button>\r\n                    }\r\n                </div>\r\n            </div>\r\n\r\n            <div className={s.userDescription}>\r\n                <div><b>Id: </b>{user.id}</div>\r\n                <div><b>Name: </b>{user.name}</div>\r\n                <div><b>Status: </b>{user.status}</div>\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default User;\r\n","import React from 'react'\r\nimport {Redirect} from \"react-router-dom\";\r\n\r\nimport Paginator from \"../Common/Paginator/Paginator\";\r\nimport User from \"./User\";\r\n\r\n\r\nlet Users = ({currentPage, totalUsersCount, pageSize, onPageChanged, users, ...props}) => {\r\n\r\n    const paginator = <Paginator currentPage={currentPage} onPageChanged={onPageChanged}\r\n                                 totalItemsCount={totalUsersCount} pageSize={pageSize}/>;\r\n    if (!props.isAuth) return <Redirect to=\"/login\"/>;\r\n    return (\r\n        <div>\r\n            {paginator}\r\n            <div>\r\n                {\r\n                    users.map(u => <User user={u}\r\n                                         followingInProgress={props.followingInProgress}\r\n                                         unFollow={props.unFollow}\r\n                                         follow={props.follow}\r\n                                         key={u.id}/>\r\n                    )\r\n                }\r\n            </div>\r\n            {paginator}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Users;\r\n","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n};\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n};\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n};\r\nexport const getUCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n};\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n};\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n};\r\n\r\nexport const getAuth = (state) => {\r\n    return state.auth.isAuth;\r\n};\r\n","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {compose} from \"redux\";\r\n\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader.jsx\";\r\nimport {\r\n    follow, requestUsers, setCurrentPage,\r\n    toggleFollowingProgress, unFollow\r\n} from \"../../Redux/UsersReducer\";\r\n\r\nimport {\r\n    getAuth,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUCurrentPage, getUsers\r\n} from \"../../Redux/UsersSelector\";\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n\r\n    componentDidMount() {\r\n        let {currentPage, pageSize} = this.props;\r\n        this.props.getUsers(currentPage, pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const {pageSize} = this.props\r\n        this.props.getUsers(pageNumber, pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   users={this.props.users}\r\n                   follow={this.props.follow}\r\n                   unFollow={this.props.unFollow}\r\n                   onPageChanged={this.onPageChanged}\r\n                   followingInProgress={this.props.followingInProgress}\r\n                   isAuth={this.props.isAuth}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getUCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: getAuth(state)\r\n\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow, unFollow,\r\n        setCurrentPage,\r\n        toggleFollowingProgress, getUsers: requestUsers\r\n    }),\r\n)(UsersContainer)\r\n\r\n"],"sourceRoot":""}